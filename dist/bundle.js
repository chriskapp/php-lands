(()=>{var t={165:()=>{"use strict";window.onload=function(){!function(t){for(var e,i=document.getElementById("h1"),n=i.innerHTML.replace("&amp;","&").split(""),s="",o=0,r=n.length;r>o;o++)s+=(e=n[o].replace("&","&amp")).trim()?'<span class="letter-'+o+'">'+e+"</span>":"&nbsp;";i.innerHTML=s,setTimeout((function(){i.className="transition-in"}),500*Math.random()+500)}()}},328:()=>{function t(t){var e=this;this.locations=t,this.init=function(){OpenSeadragon.setString("Tooltips.FullPage","Full screen"),this.viewer=OpenSeadragon({id:"phplandsmap",prefixUrl:"https://cdnjs.cloudflare.com/ajax/libs/openseadragon/3.1.0/images/",tileSources:document.getElementById("phplandsmap").getAttribute("data-map-src")+"/map.dzi",visibilityRatio:1,constrainDuringPan:!0,defaultZoomLevel:0,minZoomLevel:0,maxZoomLevel:20,maxZoomPixelRatio:4,showNavigator:!0,navigatorPosition:"BOTTOM_LEFT",overlays:[{id:"tooltip",x:0,y:0,checkResize:!1},{id:"coordinates",x:0,y:0,checkResize:!1}]}),this.svgOverlay=this.viewer.svgOverlay(),this.viewer.addHandler("open",(function(t){document.getElementById("pe-loader").classList.add("disabled"),document.getElementById("pe-dimmer").className="ui disabled inverted dimmer",document.getElementById("phplandsmap").classList.add("pe-grab"),e.initPins()})),this.viewer.addHandler("canvas-press",(function(t){document.getElementById("phplandsmap").classList.add("pe-grabbing")})),this.viewer.addHandler("canvas-release",(function(t){document.getElementById("phplandsmap").classList.remove("pe-grabbing")})),this.viewer.addHandler("full-screen",(function(t){document.getElementById("video")&&document.getElementById("video").play()}));let t=new OpenSeadragon.Button({tooltip:"Toggle locations",srcRest:"/assets/img/togglePinButtonRest.png",srcGroup:"/assets/img/togglePinButtonGroupHover.png",srcHover:"/assets/img/togglePinButtonHover.png",srcDown:"/assets/img/togglePinButtonPressed.png"});this.viewer.buttonGroup.buttons.push(t),this.viewer.buttonGroup.element.appendChild(t.element),t.addHandler("click",(function(t){e.togglePins()}));let i=new OpenSeadragon.Button({tooltip:"Toggle coordinates",srcRest:"/assets/img/toggleCoordinatesButtonRest.png",srcGroup:"/assets/img/toggleCoordinatesButtonGroupHover.png",srcHover:"/assets/img/toggleCoordinatesButtonHover.png",srcDown:"/assets/img/toggleCoordinatesButtonPressed.png"});this.viewer.buttonGroup.buttons.push(i),this.viewer.buttonGroup.element.appendChild(i.element),i.addHandler("click",(function(t){e.toggleCoordinates()})),new OpenSeadragon.MouseTracker({element:this.viewer.container,moveHandler:function(t){var i=e.viewer.viewport.pointFromPixel(t.position),n=e.viewer.viewport.viewportToImageCoordinates(i);document.getElementById("coordinates").innerHTML="<br>("+Math.round(n.x)+" , "+Math.round(n.y)+")",e.viewer.updateOverlay("coordinates",new OpenSeadragon.Point(Number(i.x),Number(i.y)))}})},this.initPins=function(){this.pins=[];for(var t=0;t<this.locations.length;t++){var i=Number(this.locations[t].x)/13120-.0458/3,n=Number(this.locations[t].y)/13120-.01832,s=this.locations[t].link?'<div><a href="'+this.locations[t].link+'" target="_blank" title="Find out more..." id="tooltiplink"><i class="icon linkify"></i></a></div>':"",o='<div class="header"><i class="map marker alternate icon"></i> '+this.locations[t].title+'</div><div class="content">'+this.locations[t].desc+s+"</div>";this.pins[t]=d3.select(this.svgOverlay.node()).append("svg:image").attr("xlink:href","/assets/img/pin.png").attr("width",.02).attr("height",.02).attr("x",i).attr("y",n).attr("id","pin_"+t).attr("data-content",o).on("mouseover",(function(){d3.select(this).transition().attr("width",.02).attr("height",.02).duration(200).attr("x",this.getAttribute("x")).attr("y",this.getAttribute("y")).attr("xlink:href","/assets/img/pin_2.png");var t=document.getElementById("tooltip");t.innerHTML=this.getAttribute("data-content"),t.style.zIndex=1e4,t.style.visibility="visible",t.onmouseover=function(){$("#tooltip").stop().fadeIn(0)},t.onmouseenter=function(){$("#tooltip").stop().fadeIn(0)},t.onmouseleave=function(){$("#tooltip").fadeOut(1200,(function(){this.style.visibility="hidden"}))};var i=this.getAttribute("x"),n=this.getAttribute("y");e.viewer.updateOverlay("tooltip",new OpenSeadragon.Point(Number(i),Number(n)+.0229)),$("#tooltip").stop().fadeIn(100),new OpenSeadragon.MouseTracker({element:document.getElementById("tooltiplink"),clickHandler:function(t){var e=t.originalEvent.target.parentNode;e.matches("a")&&("_blank"===e.getAttribute("target")?window.open(e.getAttribute("href")):location.href=e.getAttribute("href"))}})})).on("mouseout",(function(){d3.select(this).transition().attr("width",.02).attr("height",.02).attr("x",this.getAttribute("x")).attr("y",this.getAttribute("y")).attr("xlink:href","/assets/img/pin.png"),$("#tooltip").fadeOut(1200,(function(){this.style.visibility="hidden"}))}))}window.addEventListener("resize",(function(t){e.svgOverlay.resize()}))},this.togglePins=function(){"none"===this.svgOverlay.node().style.display?this.svgOverlay.node().style.display="block":this.svgOverlay.node().style.display="none"},this.toggleCoordinates=function(){var t=document.getElementById("coordinates");"visible"!=t.style.visibility?t.style.visibility="visible":t.style.visibility="hidden"}}var e=new XMLHttpRequest;e.open("GET","/locations.json",!0),e.onload=function(){e.status>=200&&e.status<400&&new t(JSON.parse(e.responseText).data).init()},e.send()},338:(t,e,i)=>{!function(){var t=window.OpenSeadragon;if(!t&&!(t=i(220)))throw new Error("OpenSeadragon is missing.");var e="http://www.w3.org/2000/svg";t.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new n(this)),this._svgOverlayInfo};var n=function(t){var i=this;this._viewer=t,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(e,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(e,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",(function(){i.resize()})),this._viewer.addHandler("open",(function(){i.resize()})),this._viewer.addHandler("rotate",(function(t){i.resize()})),this._viewer.addHandler("flip",(function(){i.resize()})),this._viewer.addHandler("resize",(function(){i.resize()})),this.resize()};n.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));var e=this._viewer.viewport.pixelFromPoint(new t.Point(0,0),!0),i=this._viewer.viewport.getZoom(!0),n=this._viewer.viewport.getRotation(),s=this._viewer.viewport.getFlip(),o=this._viewer.viewport._containerInnerSize.x,r=o*i,a=r;s&&(r=-r,e.x=-e.x+o),this._node.setAttribute("transform","translate("+e.x+","+e.y+") scale("+r+","+a+") rotate("+n+")")},onClick:function(e,i){new t.MouseTracker({element:e,clickHandler:i}).setTracking(!0)}}}()},220:t=>{"use strict";t.exports=OpenSeadragon}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,i),o.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";i(338),i(165),i(328)})()})();