!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=5)}([function(t,e){var i=new XMLHttpRequest;i.open("GET","/locations.json",!0),i.onload=function(){i.status>=200&&i.status<400&&new function(t){var e=this;this.locations=t,this.init=function(){OpenSeadragon.setString("Tooltips.FullPage","Full screen"),this.viewer=OpenSeadragon({id:"phplandsmap",prefixUrl:"https://cdnjs.cloudflare.com/ajax/libs/openseadragon/2.3.1/images/",tileSources:document.getElementById("phplandsmap").getAttribute("data-map-src")+"/map.dzi",visibilityRatio:1,constrainDuringPan:!0,defaultZoomLevel:0,minZoomLevel:0,maxZoomLevel:20,maxZoomPixelRatio:4,showNavigator:!0,navigatorPosition:"BOTTOM_LEFT",overlays:[{id:"tooltip",x:0,y:0,checkResize:!1},{id:"coordinates",x:0,y:0,checkResize:!1}]}),this.svgOverlay=this.viewer.svgOverlay(),this.viewer.addHandler("open",function(t){document.getElementById("pe-loader").classList.add("disabled"),document.getElementById("pe-dimmer").className="ui disabled inverted dimmer",document.getElementById("phplandsmap").classList.add("pe-grab"),e.initPins()}),this.viewer.addHandler("canvas-press",function(t){document.getElementById("phplandsmap").classList.add("pe-grabbing")}),this.viewer.addHandler("canvas-release",function(t){document.getElementById("phplandsmap").classList.remove("pe-grabbing")}),this.viewer.addHandler("full-screen",function(t){document.getElementById("video")&&document.getElementById("video").play()});let t=new OpenSeadragon.Button({tooltip:"Toggle locations",srcRest:"/assets/img/togglePinButtonRest.png",srcGroup:"/assets/img/togglePinButtonGroupHover.png",srcHover:"/assets/img/togglePinButtonHover.png",srcDown:"/assets/img/togglePinButtonPressed.png"});this.viewer.buttons.buttons.push(t),this.viewer.buttons.element.appendChild(t.element),t.addHandler("click",function(t){e.togglePins()});let i=new OpenSeadragon.Button({tooltip:"Toggle coordinates",srcRest:"/assets/img/toggleCoordinatesButtonRest.png",srcGroup:"/assets/img/toggleCoordinatesButtonGroupHover.png",srcHover:"/assets/img/toggleCoordinatesButtonHover.png",srcDown:"/assets/img/toggleCoordinatesButtonPressed.png"});this.viewer.buttons.buttons.push(i),this.viewer.buttons.element.appendChild(i.element),i.addHandler("click",function(t){e.toggleCoordinates()}),new OpenSeadragon.MouseTracker({element:this.viewer.container,moveHandler:function(t){var i=e.viewer.viewport.pointFromPixel(t.position),n=e.viewer.viewport.viewportToImageCoordinates(i);document.getElementById("coordinates").innerHTML="<br>("+Math.round(n.x)+" , "+Math.round(n.y)+")",e.viewer.updateOverlay("coordinates",new OpenSeadragon.Point(Number(i.x),Number(i.y)))}})},this.initPins=function(){this.pins=[];for(var t=0;t<this.locations.length;t++){var i=Number(this.locations[t].x)/13120-.0458/3,n=Number(this.locations[t].y)/13120-.01832,o=this.locations[t].link?'<div><a href="'+this.locations[t].link+'" target="_blank" title="Find out more..." id="tooltiplink"><i class="icon linkify"></i></a></div>':"",s='<div class="header"><i class="map marker alternate icon"></i> '+this.locations[t].title+'</div><div class="content">'+this.locations[t].desc+o+"</div>";this.pins[t]=d3.select(this.svgOverlay.node()).append("svg:image").attr("xlink:href","/assets/img/pin.png").attr("width",.02).attr("height",.02).attr("x",i).attr("y",n).attr("id","pin_"+t).attr("data-content",s).on("mouseover",function(){d3.select(this).transition().attr("width",.02).attr("height",.02).duration(200).attr("x",this.getAttribute("x")).attr("y",this.getAttribute("y")).attr("xlink:href","/assets/img/pin_2.png");var t=document.getElementById("tooltip");t.innerHTML=this.getAttribute("data-content"),t.style.zIndex=1e4,t.style.visibility="visible",t.onmouseover=function(){$("#tooltip").stop().fadeIn(0)},t.onmouseenter=function(){$("#tooltip").stop().fadeIn(0)},t.onmouseleave=function(){$("#tooltip").fadeOut(1200)};var i=this.getAttribute("x"),n=this.getAttribute("y");e.viewer.updateOverlay("tooltip",new OpenSeadragon.Point(Number(i),Number(n)+.0229)),$("#tooltip").stop().fadeIn(100),new OpenSeadragon.MouseTracker({element:document.getElementById("tooltiplink"),clickHandler:function(t){var e=t.originalEvent.target.parentNode;e.matches("a")&&("_blank"===e.getAttribute("target")?window.open(e.getAttribute("href")):location.href=e.getAttribute("href"))}})}).on("mouseout",function(){d3.select(this).transition().attr("width",.02).attr("height",.02).attr("x",this.getAttribute("x")).attr("y",this.getAttribute("y")).attr("xlink:href","/assets/img/pin.png"),$("#tooltip").fadeOut(1200)})}window.addEventListener("resize",function(t){e.svgOverlay.resize()})},this.togglePins=function(){"none"===this.svgOverlay.node().style.display?this.svgOverlay.node().style.display="block":this.svgOverlay.node().style.display="none"},this.toggleCoordinates=function(){var t=document.getElementById("coordinates");"visible"!=t.style.visibility?t.style.visibility="visible":t.style.visibility="hidden"}}(JSON.parse(i.responseText).data).init()},i.send()},function(t,e){document.getElementById("fbShareBtn").onclick=function(){FB.ui({method:"share",display:"popup",href:"https://lands.php.earth/"},function(t){})}},function(t,e,i){"use strict";window.onload=function(){!function(t){for(var e,i=document.getElementById(t),n=i.innerHTML.replace("&amp;","&").split(""),o="",s=0,r=n.length;r>s;s++)o+=(e=n[s].replace("&","&amp")).trim()?'<span class="letter-'+s+'">'+e+"</span>":"&nbsp;";i.innerHTML=o,setTimeout(function(){i.className="transition-in"},500*Math.random()+500)}("h1")}},function(t,e){t.exports=OpenSeadragon},function(t,e,i){!function(){var t=window.OpenSeadragon;if(!t&&!(t=i(3)))throw new Error("OpenSeadragon is missing.");var e="http://www.w3.org/2000/svg";t.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo?this._svgOverlayInfo:(this._svgOverlayInfo=new n(this),this._svgOverlayInfo)};var n=function(t){var i=this;this._viewer=t,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(e,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(e,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){i.resize()}),this._viewer.addHandler("open",function(){i.resize()}),this._viewer.addHandler("rotate",function(t){i.resize()}),this._viewer.addHandler("resize",function(){i.resize()}),this.resize()};n.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));var e=this._viewer.viewport.pixelFromPoint(new t.Point(0,0),!0),i=this._viewer.viewport.getZoom(!0),n=this._viewer.viewport.getRotation(),o=this._viewer.viewport._containerInnerSize.x*i;this._node.setAttribute("transform","translate("+e.x+","+e.y+") scale("+o+") rotate("+n+")")},onClick:function(e,i){new t.MouseTracker({element:e,clickHandler:i}).setTracking(!0)}}}()},function(t,e,i){"use strict";i.r(e);i(4),i(2),i(1),i(0),i(12),i(7)},,function(t,e){},,,,,function(t,e){}]);